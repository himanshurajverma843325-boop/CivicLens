<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Profile | CivicLens</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <style>
        .edit-card { background: white; padding: 40px; border-radius: 24px; max-width: 500px; margin: 50px auto; border: 1px solid #e2e8f0; }
        .profile-preview { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; margin-bottom: 20px; border: 4px solid #2563eb; }
        .input-group { margin-bottom: 20px; }
        .input-group label { display: block; margin-bottom: 8px; font-weight: 700; color: #1e293b; }
        .input-group input, .input-group textarea { width: 100%; padding: 12px; border: 1px solid #cbd5e1; border-radius: 12px; outline: none; }
    </style>
</head>
<body style="background: #f8fafc; padding: 20px;">
    <div class="edit-card">
        <h2 style="font-weight: 800; margin-bottom: 30px;">Profile Settings</h2>
        <form action="/edit_profile" method="POST" enctype="multipart/form-data">
            <div style="text-align: center;">
                <img src="{{ url_for('static', filename='profiles/' + user.profile_pic) }}" class="profile-preview">
                <input type="file" name="profile_pic" style="margin-bottom: 30px; display: block; margin-left: auto; margin-right: auto;">
            </div>

            <div class="input-group">
                <label>Full Name</label>
                <input type="text" name="name" value="{{ user.name }}" required>
            </div>
            <div class="input-group">
                <label>Phone Number</label>
                <input type="text" name="phone" value="{{ user.phone or '' }}" placeholder="+91 0000000000">
            </div>
            <div class="input-group">
                <label>Bio (Optional)</label>
                <textarea name="bio" rows="3">{{ user.bio or '' }}</textarea>
            </div>

            <button type="submit" class="btn-main" style="width: 100%; border: none;">Save Changes</button>
            <a href="/user_dashboard" style="display: block; text-align: center; margin-top: 20px; color: #64748b; text-decoration: none;">Cancel</a>
        </form>
    </div>
</body>
</html>